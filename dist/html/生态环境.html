<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>生态环境 - 山水</title>
<meta name="renderer" content="webkit">

<link rel="stylesheet" href="../css/custom-bootstrap.css">
<link rel="stylesheet" href="../libs/icheck/skins/flat/_all.css">
<link rel="stylesheet" href="../css/icon.css">
<link rel="stylesheet" href="../css/common.css">

<link rel="stylesheet" href="../css/ecotope.css">


<!--[if lt IE 9]>
  <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<style>
</style>

<body>
	<div id="map"></div>
	
	<header class="newheader ecotope clearfix">

     <div class="head-time pull-left">
         <span class="ht-year">2018-11-22</span>
         <span class="ht-month">16:26:50</span>
         <span class="ht-week">星期四</span>
     </div>
     <div class="head-weather pull-right">
     	
        	<a href="javascript:void(0)"><i class="ic weather"></i>晴天</a>
        
        	<a href="javascript:void(0)"><i class="ic thermometer"></i>11°C~23°C</a>
        
        	<a href="javascript:void(0)"><i class="ic water_drop"></i>湿度  50%</a>
        
        	<a href="javascript:void(0)"><i class="ic navigation"></i>北风  3级  微风</a>
        
     </div>
</header>
	<div class="contain ecotope  clearfix">
		<div class="cont-left">
			<div class="cont-box jiao sanitation" style="height: 3.2rem;">
				<div class="title">环卫动态</div>
				<div class="cont-box-kid">
					<div class="name-list">
						<span>环卫车</span>
						<span>垃圾车</span>
					</div>
					<ul class="clearfix">
						
						<li class=""><a href="javascript:void(0);">
								<i class="ic-large car1"></i>
								<span class="num-mark">
									98</span>
								作业中
							</a></li>
						
						<li class=""><a href="javascript:void(0);">
								<i class="ic-large car3"></i>
								<span class="num-mark">
									10</span>
								休息中
							</a></li>
						
						<li class="active"><a href="javascript:void(0);">
								<i class="ic-large car2"></i>
								<span class="num-mark">
									108</span>
								作业中
							</a></li>
						
						<li class=""><a href="javascript:void(0);">
								<i class="ic-large car4"></i>
								<span class="num-mark">
									16</span>
								休息中
							</a></li>
						
					</ul>
				</div>
			</div>
			<div class="cont-box jiao city" style="height: 5.5rem;">
				<div class="title">市容市貌</div>
				<div class="cont-box-kid">
					<div class="echarts" id="city_echart"></div>
					<p class="tit">2017年保洁投入<span>（单位：万元）</span></p>
					<ul class="clearfix">
						
						<li>
							<div class="city_box clearfix">
								<i class="ic-big refresh pull-left"></i>
								<div class="right pull-left">
									<p>
										<span class="digital">
											38</span>
										个
									</p>
									<label class="blue">
										中转站</label>
								</div>
							</div>
						</li>
						
						<li>
							<div class="city_box clearfix">
								<i class="ic-big clean_car pull-left"></i>
								<div class="right pull-left">
									<p>
										<span class="digital">
											37</span>
										辆
									</p>
									<label class="brown">
										清扫车辆</label>
								</div>
							</div>
						</li>
						
						<li>
							<div class="city_box clearfix">
								<i class="ic-big clean pull-left"></i>
								<div class="right pull-left">
									<p>
										<span class="digital">
											85.73</span>
										%
									</p>
									<label class="cyan">
										清扫率</label>
								</div>
							</div>
						</li>
						
						<li>
							<div class="city_box clearfix">
								<i class="ic-big house pull-left"></i>
								<div class="right pull-left">
									<p>
										<span class="digital">
											19</span>
										家
									</p>
									<label class="green">
										保洁公司</label>
								</div>
							</div>
						</li>
						
					</ul>
				</div>
			</div>
		</div>
		<div class="cont-center envi-center">
			<div class="cont-title jiao gradient">
				<span>生态环境指数</span>
			</div>
			<div class="cont-list">
				<ul class="clearfix">
					<li>
						<span>2016</span>
						<p class="digital">79.2</p>
					</li>
					<li>
						<span>2017</span>
						<p class="digital">82.1</p>
					</li>
					<li>
						<span>2018<font>预测</font></span>
						<p class="digital" style="color: #4df1bd">83.5</p>
					</li>
				</ul>
			</div>
			<!--环保任务开始-->
			<div class="cont-box jiao environment" style="height: 6.5rem;">
				<div class="title">环保政务</div>
				<div class="enviWrap1" style="height: 2.9rem;">
					<div class="enviLeft">
						<p class="echartTit">环保处罚案件</p>
						<div class="echarts" id="environmental_ec1" style="display:block; height: 90%"></div>
					</div>
					<div class="enviRight">
						<span class="pic-down"></span>
						<div class="echarts" id="environmental_pie1_down" style="display:block; height: 90%"></div>

						<span class="pic-up" style="display: none"></span>
						<div class="echarts" id="environmental_pie1_up" style="display:none; height: 90%"></div>
					</div>
				</div>
				<div class="enviWrap2" style="height: 3.1rem;">
					<div class="enviLeft">
						<p class="echartTit drinkTop">罚没总收入</p>
						<div class="echarts" id="environmental_ec2" style="display:block; height: 84%"></div>
					</div>
					<div class="enviRight">
						<span class="pic-down signTop"></span>
						<div class="echarts" id="environmental_pie2_down" style="display:block; height: 84%"></div>
					</div>
				</div>
			</div>
			<!--环保任务结束-->
		</div>
		<div class="cont-right">
			<div class="cont-box warning jiao" style="height: 2.2rem;">
				<div class="title">预警</div>
				<div class="cont-box-kid">
					<ul class="clearfix">
						<li>
							<i class="ic-large water"></i>
							<p>水质</p>
							<span class="num-mark">5</span>
						</li>
						<li>
							<i class="ic-large flow"></i>
							<p>空气</p>
							<span class="num-mark">5</span>
						</li>
					</ul>
				</div>
			</div>
			<!--水质达标率开始-->
			<div class="cont-box water jiao more-ec-box" style="height: 6.51rem;">
				<a href="javascript:void(0);" class="y-on-y echarts-change active">同比</a>
				<div class="title">水质达标率</div>
				<a href="javascript:void(0);" class="chain-ratio echarts-change">环比</a>
				<div class="cont-box-kid padding-left0">
					<div class="waterWrap1" style="height: 2.9rem;">
						<p class="echartTit">江河水质</p>
						<div class="echarts" id="water_ec1" style="display:block; height: 90%"></div>
					</div>
					<div class="waterWrap2" style="height: 3.1rem;">
						<p class="echartTit drinkTop">饮用水源水质</p>
						<div class="echarts" id="water_ec2" style="display:block; height: 84%"></div>
					</div>
				</div>
			</div>
			<!--水质达标率结束-->
		</div>
	</div>
	<!--</div>-->
	<div class="footnav">
    <ul class="clearfix">
   		
      <li class=" ">
	      <a href="经济运行.html" class="">
	        <i class="ic money"></i>
	        经济运行
        </a>
      </li>
      
      <li class=" ">
	      <a href="基础设施.html" class="">
	        <i class="ic infr"></i>
	        基础设施
        </a>
      </li>
      
      <li class=" active">
	      <a href="生态环境.html" class="">
	        <i class="ic ecotope-y"></i>
	        生态环境
        </a>
      </li>
      
      <li class=" ">
	      <a href="民生舆情.html" class="">
	        <i class="ic livelihood"></i>
	        民生舆情
        </a>
      </li>
      
      <li class="noshadow ">
	      <a href="index.html" class="indexa">
	        <i class="ic home"></i>
	        
        </a>
      </li>
      
      <li class=" ">
	      <a href="政务效能.html" class="">
	        <i class="ic gover"></i>
	        政务效能
        </a>
      </li>
      
      <li class=" ">
	      <a href="文化建设.html" class="">
	        <i class="ic culture"></i>
	        文化建设
        </a>
      </li>
      
      <li class=" ">
	      <a href="交通运输.html" class="">
	        <i class="ic transportation"></i>
	        交通运输
        </a>
      </li>
      
      <li class=" ">
	      <a href="敬请期待.html" class="">
	        <i class="ic water"></i>
	        敬请期待
        </a>
      </li>
      
      <li class=" ">
	      <a href="敬请期待.html" class="">
	        <i class="ic expect"></i>
	        敬请期待
        </a>
      </li>
      
    </ul>
  </div>

	
<script src="../libs/jquery/jquery.min.js"></script>
<script src="../js/resize.js"></script>
<script src="../libs/bootstrap/dist/bootstrap.min.js"></script>
<script src="../libs/icheck/icheck.min.js"></script>
<script src="../libs/nicescroll/jquery.nicescroll.js"></script>
<script src="../libs/echarts/echarts.min.js"></script>
<script src="../js/global.js"></script>

<script src="../js/footnav.js"></script>

<script src="../js/api.js"></script>

<script src="../js/bmap.js"></script>


</body>
<script>
	$(".ecotope.contain .cont-left .sanitation ul li").each(function() {
		$(this).click(function() {
			$(this).addClass('active').siblings().removeClass('active');
		});
	});
	var city_echart = echarts.init(document.getElementById('city_echart')),
		water_ec1 = echarts.init(document.getElementById('water_ec1')),
        water_ec2 = echarts.init(document.getElementById('water_ec2')),
		environmental_ec1 = echarts.init(document.getElementById('environmental_ec1')),
        environmental_ec2 = echarts.init(document.getElementById('environmental_ec2')),
        environmental_pie1_down = echarts.init(document.getElementById('environmental_pie1_down')),
        environmental_pie2_down = echarts.init(document.getElementById('environmental_pie2_down')),
        environmental_pie1_up = echarts.init(document.getElementById('environmental_pie1_up')),
		map = echarts.init(document.getElementById('map')),
		app = {},
		water_ec1_data1 = [100, 75, 50, 100],
		water_ec1_data2 = [100, 50, 100, 100],
		water_ec1_data3 = [100, 100, 100, 100],
		water_ec1_data4 = [100, 100, 100, 100],
		option = {
			grid: {
				left: '4%',
				right: '4%',
				top: '10%',
				bottom: "2%",
				containLabel: true
			},
			xAxis: [{
				type: 'category',
				data: ['西南', '云东海', '白坭', '大塘', '乐平', '芦苞', '南山'],
				axisLine: {
					lineStyle: {
						color: '#3794d4',
					}
				},
				axisLabel: {
					color: "#a9e0ed",
					fontSize:12
				}
			}],
			yAxis: [{
				type: 'value',
				axisLine: {
					lineStyle: {
						color: '#3794d4',
					}
				},
				axisLabel: {
					color: "#a9e0ed",
					fontSize:12
				},
				splitLine: {
					show: false
				}
			}],
			series: [{
				name: '直接访问',
				type: 'bar',
				barWidth: '60%',
				data: [8493, 2190, 2149, 2900, 756, 1456, 360],
				label: {
					normal: {
						show: true,
						position: 'top',
						color: "#a9e0ed",
						fontSize:16
					}
				},
				itemStyle: {
					normal: {
						color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							offset: 0,
							color: '#46bcf3'
						}, {
							offset: 1,
							color: '#1f77cf'
						}]),
					}
				}
			}]
		};
	var option1 = {
		legend: {
			data: ['2017', '2018'],
			textStyle: {
				color: "#a9e0ed",
				fontSize:16
			},
            bottom: "2%",
			itemWidth: 10,
			itemHeight: 10
		},
		grid: {
			left: '4%',
			right: '4%',
            top: '12%',
            bottom: "18%",
			containLabel: true
		},
		xAxis: {
			type: 'category',
			data: ['Q1', 'Q2', 'Q3', 'Q4'],
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				fontSize:16
			},
		},
		yAxis: {
			type: 'value',
			splitLine: {
				show: false
			},
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				formatter: '{value}%',
				fontSize:16
			},
		},
		series: [{
				name: '2017',
				type: 'bar',
				data: water_ec1_data1,
				barWidth: "20",
				itemStyle: {
					normal: {
						color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							offset: 0,
							color: '#5abf63'
						}, {
							offset: 1,
							color: '#2a9633'
						}]),
					}
				},
				label: {
					formatter: function(params) {
						var num,
							arr = [];
						for (var i = 0; i < water_ec1_data2.length; i++) {
							num = parseInt(water_ec1_data1[i]) - parseInt(water_ec1_data2[i]);
							arr.push(num);
						}
						if (arr[params.dataIndex] >= 0) {
							return "+" + arr[params.dataIndex] + "%";
						} else {
							return "";
						}
					},
					show: true,
					position: "top",
					color: "#a9e0ed",
					offset: [15, 0],
					fontSize:16
				}
			},
			{
				name: '2018',
				type: 'bar',
				barWidth: "20",
				data: water_ec1_data2,
				itemStyle: {
					normal: {
						color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							offset: 0,
							color: '#d7be3a'
						}, {
							offset: 1,
							color: '#b88618'
						}]),
					}
				},
				label: {
					formatter: function(params) {
						var num,
							arr = [];
						for (var i = 0; i < water_ec1_data2.length; i++) {
							num = parseInt(water_ec1_data1[i]) - parseInt(water_ec1_data2[i]);
							arr.push(num);
						}
						if (arr[params.dataIndex] < 0) {
							return arr[params.dataIndex] + "%";
						} else {
							return "";
						}
					},
					show: true,
					position: "top",
					color: "#a9e0ed",
					offset: [-15, 0],
					fontSize:16
				}
			}
		]
	};
	var option1_2 = {
		legend: {
			data: ['2017', '2018'],
			textStyle: {
				color: "#a9e0ed",
				fontSize:16
			},
			bottom: "2%",
			itemWidth: 10,
			itemHeight: 10
		},
		grid: {
			left: '4%',
			right: '4%',
			top: '12%',
			bottom: "18%",
			containLabel: true
		},
		xAxis: {
			type: 'category',
			data: ['Q1', 'Q2', 'Q3', 'Q4'],
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				fontSize:16
			},
		},
		yAxis: {
			type: 'value',
			splitLine: {
				show: false
			},
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				formatter: '{value}%',
				fontSize:16
			},
		},
		series: [{
				name: '2017',
				type: 'bar',
				data: water_ec1_data3,
				barWidth: "20",
				itemStyle: {
					normal: {
						color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							offset: 0,
							color: '#5abf63'
						}, {
							offset: 1,
							color: '#2a9633'
						}]),
					}
				},
				label: {
					formatter: function(params) {
						var num,
							arr = [];
						for (var i = 0; i < water_ec1_data2.length; i++) {
							num = parseInt(water_ec1_data3[i]) - parseInt(water_ec1_data4[i]);
							arr.push(num);
						}
						if (arr[params.dataIndex] >= 0) {
							return "+" + arr[params.dataIndex] + "%";
						} else {
							return "";
						}
					},
					show: true,
					position: "top",
					color: "#a9e0ed",
					offset: [15, 0],
					fontSize:16
				}
			},
			{
				name: '2018',
				type: 'bar',
				barWidth: "20",
				data: water_ec1_data4,
				itemStyle: {
					normal: {
						color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							offset: 0,
							color: '#d7be3a'
						}, {
							offset: 1,
							color: '#b88618'
						}]),
					}
				},
				label: {
					formatter: function(params) {
						var num,
							arr = [];
						for (var i = 0; i < water_ec1_data2.length; i++) {
							num = parseInt(water_ec1_data3[i]) - parseInt(water_ec1_data4[i]);
							arr.push(num);
						}
						if (arr[params.dataIndex] < 0) {
							return arr[params.dataIndex] + "%";
						} else {
							return "";
						}
					},
					show: true,
					position: "top",
					color: "#a9e0ed",
					offset: [-15, 0],
					fontSize:16
				}
			}
		]
	};
	var op2_data = [100, 100, 100],
 	option2 = {
		grid: {
			left: '4%',
			right: '4%',
            top: '12%',
            bottom: "7%",
			containLabel: true
		},
		xAxis: [{
			type: 'category',
			data: ['2018-7', '2018-9', '2018-11'],
			axisTick: {
				alignWithLabel: true
			},
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				fontSize:16
			},
		}],
		yAxis: [{
			type: 'value',
			splitLine: {
				show: false
			},
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				formatter: '{value}%',
				fontSize:16
			},
		}],
		series: [{
			type: 'bar',
			barWidth: '30%',
			data: op2_data,
			itemStyle: {
				normal: {
					color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
						offset: 0,
						color: '#5abf63'
					}, {
						offset: 1,
						color: '#2a9633'
					}]),
				}
			},
			label: {
				show: true,
				position: "top",
				formatter: function(params){
					var i = params.dataIndex,
							num;
					if(i>0){
						num = parseInt(op2_data[i]) - parseInt(op2_data[i-1]);
						if(num > 0){
							return "+" + num + "%";
						}else{
							return num + "%";
						}
					}else{
						return "+" + params.data + "%";
					}
				},
				color: "#a9e0ed",
				fontSize:16
			}
		}]
	};
	var op2_data2 = [100, 100, 100],
	option2_2 = {
		grid: {
			left: '4%',
			right: '4%',
            top: '12%',
            bottom: "7%",
			containLabel: true
		},
		xAxis: [{
			type: 'category',
			data: ['2018-9', '2018-10', '2018-11'],
			axisTick: {
				alignWithLabel: true
			},
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				fontSize:16
			},
		}],
		yAxis: [{
			type: 'value',
			splitLine: {
				show: false
			},
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				fontSize:16
			},
		}],
		series: [{
			type: 'bar',
			barWidth: '30%',
			data: op2_data2,
			itemStyle: {
				normal: {
					color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
						offset: 0,
						color: '#5abf63'
					}, {
						offset: 1,
						color: '#2a9633'
					}]),
				}
			},
			label: {
				show: true,
				position: "top",
				formatter: function(params){
					var i = params.dataIndex,
							num;
					if(i>0){
						num = parseInt(op2_data2[i]) - parseInt(op2_data2[i-1]);
						if(num > 0){
							return "+" + num + "%";
						}else{
							return num + "%";
						}
					}else{
						return "+" + params.data + "%";
					}
				},
				color: "#a9e0ed",
				fontSize:16
			}
		}]
	};
	var option3 = {
		legend: {
			data: ['2016', '2017'],
			textStyle: {
				color: "#a9e0ed",
				fontSize:16
			},
			bottom: "2%",
			itemWidth: 10,
			itemHeight: 10
		},
		grid: {
			left: '8%',
			right: '0',
			top: '20%',
			bottom: "18%",
			containLabel: true
		},
		xAxis: {
			type: 'category',
			data: ['Q1', 'Q2', 'Q3', 'Q4'],
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				fontSize:16
			},
		},
		yAxis: {
			type: 'value',
			name: "单位：个",
			nameTextStyle:{
                fontSize:16,
                padding:[0,0,4,0]
			},
			splitLine: {
				show: false
			},
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				fontSize:16
			},
		},
		series: [{
				name: '2016',
				type: 'bar',
				barWidth: "30",
				data: [47, 44, 46, 42],
				itemStyle: {
					normal: {
						color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							offset: 0,
							color: '#00cdf8'
						}, {
							offset: 1,
							color: '#006f80'
						}]),
					}
				},
				label: {
					show: true,
					position: "top",
					color: "#a9e0ed",
					fontSize:16
				}
			},
			{
				name: '2017',
				type: 'bar',
				barWidth: "30",
				data: [68, 53, 8, 2],
				itemStyle: {
					normal: {
						color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							offset: 0,
							color: '#fa9400'
						}, {
							offset: 1,
							color: '#9f5c00'
						}]),
					}
				},
				label: {
					show: true,
					position: "top",
					color: "#a9e0ed",
					fontSize:16
				}
			}
		]
	};
	var option4 = {
		legend: {
			data: ['2016', '2017'],
			textStyle: {
				color: "#a9e0ed",
				fontSize:16
			},
			bottom: "2%",
			itemWidth: 10,
			itemHeight: 10
		},
		grid: {
            left: '8%',
            right: '0',
            top: '20%',
            bottom: "18%",
			containLabel: true
		},
		xAxis: {
			type: 'category',
			data: ['Q1', 'Q2', 'Q3', 'Q4'],
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				fontSize:16
			},
		},
		yAxis: {
			type: 'value',
			name: "单位：万元",
			nameTextStyle:{
                fontSize:16,
                padding:[0,0,4,0]
			},
			splitLine: {
				show: false
			},
			axisLine: {
				lineStyle: {
					color: '#3794d4',
				}
			},
			axisLabel: {
				color: "#a9e0ed",
				fontSize:16
			},
		},
		series: [{
				name: '2016',
				type: 'bar',
				barWidth: "30",
				data: [146.46, 98.6, 187.85, 223.52],
				itemStyle: {
					normal: {
						color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							offset: 0,
							color: '#00cdf8'
						}, {
							offset: 1,
							color: '#006f80'
						}]),
					}
				},
				label: {
					show: true,
					position: "top",
					color: "#a9e0ed",
					fontSize:16
				}
			},
			{
				name: '2017',
				type: 'bar',
				barWidth: "30",
				data: [404.01, 160.13, 40.41, 2.5],
				itemStyle: {
					normal: {
						color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							offset: 0,
							color: '#fa9400'
						}, {
							offset: 1,
							color: '#9f5c00'
						}]),
					}
				},
				label: {
					show: true,
					position: "top",
					color: "#a9e0ed",
					fontSize:16
				}
			}
		]
	};
	//环保处罚案件-下降圆数据
    var option5 = {
        title: [
            {
                text: '年度同比下降',
                top: '85%',
                textAlign:'center',
                left: '49%',
                textStyle: {
                    color: '#85f4fb',
                    fontSize: 16,
                    fontWeight:'normal'
                },
            }

        ],
        series: [
            {
                name: '环保处罚案件',
                type: 'pie',
                radius: ['55%', '65%'],
                center:['50%','50%'],
                color:'rgba(12,188,175)',
                label: {
                    normal: {
                        position: 'center',
                        padding: [8, 0, 0, 0]
                    }
                },

                hoverAnimation: false,
                data: [
                    {
                        value: '26.82',
                        name: '',
                        label: {
                            normal: {
                                //formatter: '{c}',
                                formatter : function (params){
                                    return params.value + '%'
                                },
                                textStyle: {
                                    color:'#c1fbff',
                                    fontFamily: 'digital',
                                    fontSize:24,
                                }
                            }
                        },
                        tooltip:{
                            trigger: 'item'
                        }
                    },
                    {
                        value: '73.18',
                        name: '',
                        label: {
                            show:true,
                            normal: {
                                position: 'outside'
                            }
                        },
                        labelLine:{
                            show:false,
                            emphasis:{
                                show:false
                            }
                        },
                        itemStyle: {
                            show:false,
                            normal: {
                                color: 'rgba(12,188,175,0.3)'
                            }
                        },
                        tooltip:{
                            show:false,
                            trigger: 'item'
                        }
                    }
                ]

            }
        ]
    };
    //环保处罚案件-上升圆数据
    var option5_1 = {
        title: [
            {
                text: '年度同比上升',
                top: '85%',
                textAlign:'center',
                left: '49%',
                textStyle: {
                    color: '#85f4fb',
                    fontSize: 16,
                    fontWeight:'normal'
                },
            }

        ],
        series: [
            {
                name: '环保处罚案件',
                type: 'pie',
                radius: ['55%', '65%'],
                center:['50%','50%'],
                color:'rgba(210,151,4)',
                label: {
                    normal: {
                        position: 'center',
                        padding: [8, 0, 0, 0]
                    }
                },

                hoverAnimation: false,
                data: [
                    {
                        value: '26.82',
                        name: '',
                        label: {
                            normal: {
                                //formatter: '{c}',
                                formatter : function (params){
                                    return params.value + '%'
                                },
                                textStyle: {
                                    color:'#c1fbff',
                                    fontFamily: 'digital',
                                    fontSize:24,
                                }
                            }
                        },
                        tooltip:{
                            trigger: 'item'
                        }
                    },
                    {
                        value: '73.18',
                        name: '',
                        label: {
                            show:true,
                            normal: {
                                position: 'outside'
                            }
                        },
                        labelLine:{
                            show:false,
                            emphasis:{
                                show:false
                            }
                        },
                        itemStyle: {
                            show:false,
                            normal: {
                                color: 'rgba(210,151,4,0.3)'
                            }
                        },
                        tooltip:{
                            show:false,
                            trigger: 'item'
                        }
                    }
                ]

            }
        ]
    };
    //罚没总收入-下降圆数据
    var option6 = {
        title: [
            {
                text: '年度同比下降',
                top: '85%',
                textAlign:'center',
                left: '49%',
                textStyle: {
                    color: '#85f4fb',
                    fontSize: 16,
                    fontWeight:'normal'
                },
            }

        ],
        series: [
            {
                name: '罚没总收入',
                type: 'pie',
                radius: ['55%', '65%'],
                center:['50%','50%'],
                color:'rgba(12,188,175)',
                label: {
                    normal: {
                        position: 'center',
                        padding: [8, 0, 0, 0]
                    }
                },

                hoverAnimation: false,
                data: [
                    {
                        value: '7.52',
                        name: '',
                        label: {
                            normal: {
                                formatter : function (params){
                                    return params.value + '%'
                                },
                                textStyle: {
                                    color:'#c1fbff',
                                    fontFamily: 'digital',
                                    fontSize:24,
                                }
                            }
                        },
                        tooltip:{
                            trigger: 'item'
                        }
                    },
                    {
                        value: '92.48',
                        name: '',
                        label: {
                            show:true,
                            normal: {
                                position: 'outside'
                            }
                        },
                        labelLine:{
                            show:false,
                            emphasis:{
                                show:false
                            }
                        },
                        itemStyle: {
                            show:false,
                            normal: {
                                color: 'rgba(12,188,175,0.3)'
                            }
                        },
                        tooltip:{
                            show:false,
                            trigger: 'item'
                        }
                    }
                ]

            }
        ]
    };

	$.get('../js/hangzhou-tracks.json', function(data) {

		var points = [].concat.apply([], data.map(function(track) {
			return track.map(function(seg) {
				return seg.coord.concat([1]);
			});
		}));
		map.setOption(option = {
			animation: false,
			bmap: {
				center: [120.13066322374, 30.240018034923],
				zoom: 14,
				roam: true
			},
			visualMap: {
				show: false,
				top: 'top',
				min: 0,
				max: 5,
				seriesIndex: 0,
				calculable: true,
				inRange: {
					color: ['blue', 'blue', 'green', 'yellow', 'red']
				}
			},
			series: [{
				type: 'heatmap',
				coordinateSystem: 'bmap',
				data: points,
				pointSize: 5,
				blurSize: 6
			}]
		});
		if (!app.inNode) {
			// 添加百度地图插件
			var bmap = map.getModel().getComponent('bmap').getBMap();
			bmap.addControl(new BMap.MapTypeControl());
		}
	});

	city_echart.setOption(option);
	water_ec1.setOption(option1);
    water_ec2.setOption(option1_2);
	environmental_ec1.setOption(option3);
    environmental_ec2.setOption(option4);
    environmental_pie1_down.setOption(option5);
    environmental_pie2_down.setOption(option6);
    environmental_pie1_up.setOption(option5_1);
	var arr = [city_echart, water_ec1, water_ec2, environmental_ec1, environmental_pie1_down, environmental_ec2, environmental_pie2_down,environmental_pie1_up];
	$(window).resize(function() {
		for (var i in arr) {
			arr[i].resize();
		}
	});
	$(".environmental .ec_a").each(function() {
		$(this).click(function() {
			var i = $(this).index(),
				options;
			$(this).addClass('active');
			$(this).siblings().removeClass('active');
			if (i == 1) {
				options = option4;
				$(".environmental").find(".compare i").addClass('decline').removeClass('rise');
				$(".environmental").find(".compare span").addClass('txtcol-green').removeClass('txtcol-red');
                $(".environmental").find(".compare span").addClass('txtcol-green').text('7.52%');
			} else {
				options = option3;
//				$(".environmental").find(".compare i").removeClass('decline').addClass('rise');
//				$(".environmental").find(".compare span").removeClass('txtcol-green').addClass('txtcol-red');
                $(".environmental").find(".compare i").addClass('decline').removeClass('rise');
                $(".environmental").find(".compare span").addClass('txtcol-green').removeClass('txtcol-red');
                $(".environmental").find(".compare span").addClass('txtcol-green').text('26.82%');
			}
			environmental_ec1.clear();
			environmental_ec1.setOption(options);
		})
	});

	// 水质达标率
	water();

	function water() {
		var $y_on_y = $(".y-on-y"), //同比按钮
			$c_r = $(".chain-ratio"), //环比按钮
			options,
            drinkOptions;
		/*
	       option1 => 江河水质同比图  option1_2 => 饮用水源水质同比图
	       option2 => 江河水质环比图  option2_2 =>  饮用水源水质环比图
			*/
        $(".water .echarts-change").each(function() {
            $(this).click(function() {
                $(".water .echarts-change").removeClass('active');
                $(this).addClass('active');
                if ($(this).index() == 0) {
                    /* 同比 */
                    options = option1;
                    drinkOptions = option1_2;
                } else {
                    /* 环比 */
                    options = option2;
                    drinkOptions = option2_2;
                }
                water_ec1.clear();
                water_ec2.clear();
                water_ec1.setOption(options);
                water_ec2.setOption(drinkOptions);
            })
        });
	}
</script>

</html>
